# Tempo AI UI/UX 仕様書

**バージョン**: 4.0
**最終更新日**: 2025年12月19日

---

> **📖 事前確認**: 本ドキュメントを読む前に、[product-spec.md](./product-spec.md) を参照してプロダクトの全体像を理解してください。

---

## 1. デザイン原則

### 1.1 Tempo AI固有の原則

| 原則 | 実践方法 |
|------|---------|
| 情報の優先順位を明確に | ホーム画面では「今日のアドバイス」を最優先 |
| データを「感じさせる」 | スコアだけでなく状態を言葉で表現 |
| 押し付けない、寄り添う | 「〜してみてください」という柔らかい語尾 |
| 継続を支える | 今日のトライで新しい発見 |

### 1.2 適用するUX心理原則

- **Doherty Threshold**: 0.4秒以内の反応
- **Labor Illusion**: AI分析中を明示し価値を感じさせる
- **Progressive Disclosure**: 詳細は「もっと見る」で展開

---

## 2. カラーシステム

### 2.1 基本カラー

| 種類 | 用途 |
|------|------|
| Primary (Soft Sage Green) | ボタン、アイコン、プログレスバー |
| Secondary (Warm Beige) | 背景色 |
| Accent (Soft Coral) | CTAボタン、重要な通知 |

### 2.2 状態カラー

| スコア範囲 | ステータス | 色 |
|-----------|----------|-----|
| 80-100 | 最高 | Primary (#7CB342) |
| 60-79 | 良好 | Primary (#7CB342) |
| 40-59 | 普通 | Yellow (#FFC107) |
| 20-39 | やや低下 | Orange (#FF9800) |
| 0-19 | 要改善 | Red (#F44336) |

---

## 3. 画面構成

### 3.1 タブ構成

```
┌────────────┬──────────────────┬────────────┐
│  🏠 ホーム  │🔄サーカディアンリズム│  ⚙️ 設定   │
└────────────┴──────────────────┴────────────┘
```

### 3.2 画面遷移

```
オンボーディング（7画面）
    ↓
メイン画面（3タブ）
    ├── ホーム → アドバイス詳細 / トライ詳細
    ├── サーカディアンリズム
    └── 設定 → プロフィール編集 / タグ編集
```

---

## 4. ホーム画面

### 4.1 構成

```
┌─────────────────────────────────┐
│ ヘッダー（日付、挨拶）          │
├─────────────────────────────────┤
│                                 │
│ 今日のアドバイス               │
│ （サマリー表示）                │
│          [もっと見る]           │
├─────────────────────────────────┤
│ 今日のトライ                   │
│                                 │
└─────────────────────────────────┘
```

### 4.2 スペーシング

| 要素間 | 値 |
|--------|-----|
| ヘッダー → アドバイス | 24pt |
| アドバイス → トライ | 24pt |
| 画面端からの余白 | 16pt |

---

## 5. サーカディアンリズム画面

### 5.1 構成

```
┌─────────────────────────────────────┐
│ サーカディアンリズム                  │
├─────────────────────────────────────┤
│    ┌─────────────────────────┐     │
│    │   [24時間サークル図]      │     │
│    │      HRV 72ms           │     │
│    │      ▲+9%               │     │
│    │   就寝 23:15 / 起床 7:05 │     │
│    └─────────────────────────┘     │
│                                     │
│    リズム安定度                      │
│    ●●●○○ 良好                      │
│    「3日連続で安定」                 │
├─────────────────────────────────────┤
│    3つの指標                         │
│           HRV 72ms（結果）           │
│          /        \                 │
│       睡眠        歩数               │
│      7.2h       6,500歩             │
│     （回復）     （活動）             │
├─────────────────────────────────────┤
│    今日の見立て                      │
│    マサさん、今朝の自律神経の...      │
└─────────────────────────────────────┘
```

### 5.2 24時間サークル図

| 要素 | 内容 |
|------|------|
| 外周 | 過去7日間の就寝・起床時刻をプロット |
| 睡眠帯 | 昨夜の睡眠時間を塗りつぶしで表示 |
| 中央上部 | HRV値（ms）を大きく表示 |
| 中央下部 | 7日平均との差分（▲+9% など） |
| 下部テキスト | 就寝時刻・起床時刻 |

### 5.3 リズム安定度表示

| 条件 | ステータス | 説明文 |
|------|-----------|--------|
| スコア≥70 かつ 3日以上連続安定 | 良好 | 「{N}日連続で安定 → 回復効率アップ中」 |
| スコア≥70 かつ 連続2日以下 | 良好 | 「リズムが整っています」 |
| スコア 50-69 | やや不安定 | 「就寝時刻にばらつきがあります」 |
| スコア<50 | 不安定 | 「リズムの乱れが回復を妨げています」 |

---

## 6. 設定画面

### 6.1 構成

```
┌─────────────────────────────────┐
│ 設定                            │
├─────────────────────────────────┤
│ プロフィール                    │
│ ├─ ニックネーム                 │
│ ├─ 基本情報                     │
│ └─ 職業・生活習慣               │
├─────────────────────────────────┤
│ 関心ごとタグ                    │
├─────────────────────────────────┤
│ データとプライバシー            │
│ アプリについて                  │
└─────────────────────────────────┘
```

---

## 7. 特殊状態

### 7.1 HealthKitデータ不足時

```
┌─────────────────────────────────┐
│        [Apple Watchアイコン]    │
│                                 │
│ ヘルスケアデータが不足しています │
│                                 │
│ Apple Watchを装着して、数日間   │
│ データを記録してください。      │
│                                 │
│     [設定を確認する]ボタン       │
└─────────────────────────────────┘
```

### 7.2 オフライン時

```
┌─────────────────────────────────┐
│ ⚠️ インターネット接続なし       │
│                                 │
│ 前日のアドバイスを表示しています。│
│                                 │
│        [再試行]ボタン            │
├─────────────────────────────────┤
│ （前日のアドバイス）             │
└─────────────────────────────────┘
```

### 7.3 位置情報取得失敗時

```
┌─────────────────────────────────┐
│ 📍 位置情報を取得できませんでした │
│                                 │
│ お住まいの都市を選択してください。│
│                                 │
│ ┌─────────────────────────┐    │
│ │ 都市を選択            ▼  │    │
│ └─────────────────────────┘    │
│        [設定]ボタン              │
└─────────────────────────────────┘
```

### 7.4 ローディング状態

**表示タイミング**: APIリクエスト開始から400ms後（Doherty Threshold）

```
┌─────────────────────────────────┐
│        [スピナー]                │
│    アドバイスを生成中...         │
└─────────────────────────────────┘
```

---

## 8. インタラクション

### 8.1 画面遷移

| 遷移の種類 | アニメーション |
|-----------|---------------|
| 詳細画面への遷移 | 右からスライドイン |
| 戻る動作 | 左へスライドアウト |
| モーダル表示 | 下からスライドアップ |

### 8.2 タップフィードバック

- **ボタン**: タップ時に色が少し濃くなる
- **カード**: タップ時に少し縮む（scale: 0.97）
- **応答速度**: 0.4秒以内

---

## 9. トーン・表現方法

### 9.1 キャラクター

「年上の落ち着いた優しいお姉さん」
- 温かく励ましつつ根拠を示す
- ニックネームで呼びかける
- 押し付けず、提案する

### 9.2 語尾パターン

| パターン | 例 |
|---------|-----|
| 〜ですね | 「良質な睡眠が取れましたね」 |
| 〜してみてください | 「深呼吸を3回してみてください」 |
| 〜するといいですね | 「23時までに就寝できるといいですね」 |
| 〜かもしれませんね | 「少し疲れを感じやすいかもしれませんね」 |

※ 詳細なトーンガイドラインは [ai-prompt-spec.md](./ai-prompt-spec.md) を参照

---

## 10. アクセシビリティ

### 10.1 VoiceOver対応

- 全画面がナビゲート可能
- 適切なラベルとヒント

### 10.2 Dynamic Type対応

- スケーラブルフォント使用
- 最小倍率: 0.7

### 10.3 カラーコントラスト

- テキストは常にプライマリカラー
- ステータス色は背景とセットで使用

---

## 関連ドキュメント

| ドキュメント | 内容 |
|-------------|------|
| [product-spec.md](./product-spec.md) | 機能要件 |
| [metrics-spec.md](./metrics-spec.md) | スコア算出 |
| [ai-prompt-spec.md](./ai-prompt-spec.md) | AIトーン詳細 |
