# Tempo AI

**ã€Œè‡ªåˆ†ã®ãƒ†ãƒ³ãƒã§ã€å¥ã‚„ã‹ãªæ¯æ—¥ã‚’ã€**

[![iOS](https://img.shields.io/badge/iOS-17%2B-blue?logo=apple)](https://developer.apple.com/ios/)
[![Node.js](https://img.shields.io/badge/Node.js-20%2B-green?logo=nodedotjs)](https://nodejs.org/)
[![Cloudflare Workers](https://img.shields.io/badge/Cloudflare-Workers-orange?logo=cloudflare)](https://workers.cloudflare.com/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.x-blue?logo=typescript)](https://www.typescriptlang.org/)
[![Claude API](https://img.shields.io/badge/Claude-Sonnet%204-purple)](https://www.anthropic.com/)

---

## æ¦‚è¦

Tempo AI ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ç”Ÿä½“ãƒªã‚ºãƒ ãƒ»æ´»å‹•é‡ãƒ»å›å¾©çŠ¶æ…‹ãªã©ã® HealthKit ãƒ‡ãƒ¼ã‚¿ã¨ã€æ°—è±¡ãƒ»å¤§æ°—æ±šæŸ“ãªã©ã®ç’°å¢ƒãƒ‡ãƒ¼ã‚¿ã‚’ AI ãŒåˆ†æã—ã€**ãã®æ—¥ã®éã”ã—æ–¹**ã‚’ãƒ‘ãƒ¼ã‚½ãƒŠãƒ©ã‚¤ã‚ºã—ã¦ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã™ã‚‹ãƒ˜ãƒ«ã‚¹ã‚±ã‚¢ã‚¢ãƒ—ãƒªã§ã™ã€‚

é™çš„ãªå¥åº·ã‚¹ã‚³ã‚¢ã§ã¯ãªãã€ã€Œä»Šæ—¥ã®ã‚ãªãŸã«åˆã£ãŸéã”ã—æ–¹ã€ã‚’æ¯æœææ¡ˆã™ã‚‹ã“ã¨ã§ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè‡ªåˆ†ã®ãƒšãƒ¼ã‚¹ã§å¥åº·ã‚’æ¨é€²ã§ãã‚‹ã‚ˆã†ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ã€‚

### ä¸»ãªæ©Ÿèƒ½

- **æ¯æœã®ãƒ‘ãƒ¼ã‚½ãƒŠãƒ©ã‚¤ã‚ºãƒ‰ã‚¢ãƒ‰ãƒã‚¤ã‚¹** - ç¡çœ ãƒ»HRVãƒ»æ´»å‹•é‡ãƒ‡ãƒ¼ã‚¿ã¨ç’°å¢ƒæƒ…å ±ã‚’çµ±åˆåˆ†æ
- **ä»Šæ—¥ã®ãƒˆãƒ©ã‚¤** - 1 æ—¥ 1 ã¤ã®æ–°ã—ã„ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã‚’ææ¡ˆï¼ˆ5-15 åˆ†ã§å®Œçµï¼‰
- **ä»Šé€±ã®ãƒˆãƒ©ã‚¤** - æ¯é€±æœˆæ›œæ—¥ã«é€±ã‚’é€šã—ã¦å–ã‚Šçµ„ã‚€ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã‚’ææ¡ˆ
- **è¿½åŠ ã‚¢ãƒ‰ãƒã‚¤ã‚¹** - æ˜¼ï¼ˆ13 æ™‚ã€œï¼‰ãƒ»å¤•ï¼ˆ18 æ™‚ã€œï¼‰ã«çŸ­ã„ãƒ•ã‚©ãƒ­ãƒ¼ã‚¢ãƒƒãƒ—
- **é–¢å¿ƒã”ã¨ã‚¿ã‚°** - ç¾å®¹ã€ãƒ•ã‚£ãƒƒãƒˆãƒã‚¹ã€ãƒ¡ãƒ³ã‚¿ãƒ«ãƒ˜ãƒ«ã‚¹ã€ä»•äº‹ã€æ „é¤Šã€ç¡çœ ã‹ã‚‰é¸æŠã—ã¦ãƒ‘ãƒ¼ã‚½ãƒŠãƒ©ã‚¤ã‚º

---

## æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

| ãƒ¬ã‚¤ãƒ¤ãƒ¼     | æŠ€è¡“                   | ãƒãƒ¼ã‚¸ãƒ§ãƒ³                |
| ------------ | ---------------------- | ------------------------- |
| **iOS**      | SwiftUI                | iOS 17+                   |
|              | HealthKit              | -                         |
|              | CoreLocation           | -                         |
| **Backend**  | Cloudflare Workers     | -                         |
|              | Hono                   | 4.x                       |
|              | TypeScript             | 5.x                       |
| **AI**       | Claude API (Sonnet 4)  | claude-sonnet-4-20250514  |
|              | Claude API (Haiku)     | claude-haiku-4-5-20251001 |
| **å¤–éƒ¨ API** | Open-Meteo Weather     | Free tier                 |
|              | Open-Meteo Air Quality | Free tier                 |
| **ãƒ„ãƒ¼ãƒ«**   | pnpm                   | 9.x                       |
|              | Biome                  | 1.9.x                     |
|              | Vitest                 | 2.x                       |

---

## ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```mermaid
sequenceDiagram
    participant U as ğŸ‘¤ User
    participant App as ğŸ“± iOS App
    participant HK as ğŸƒ HealthKit
    participant API as âš¡ Cloudflare Workers
    participant Claude as ğŸ¤– Claude API
    participant Weather as ğŸŒ¤ï¸ Open-Meteo

    U->>App: ã‚¢ãƒ—ãƒªèµ·å‹•
    App->>HK: ãƒ˜ãƒ«ã‚¹ãƒ‡ãƒ¼ã‚¿å–å¾—
    HK-->>App: ç¡çœ ãƒ»é‹å‹•ãƒ»HRV
    App->>API: POST /recommendations

    par ä¸¦åˆ—å‡¦ç†
        API->>Weather: å¤©æ°—æƒ…å ±å–å¾—
        API->>Claude: AIãƒ¬ã‚³ãƒ¡ãƒ³ãƒ‰ç”Ÿæˆ
    end

    Weather-->>API: æ°—æ¸©ãƒ»æ¹¿åº¦ãƒ»UV
    Claude-->>API: ãƒ‘ãƒ¼ã‚½ãƒŠãƒ©ã‚¤ã‚ºã•ã‚ŒãŸææ¡ˆ
    API-->>App: çµ±åˆãƒ¬ã‚¹ãƒãƒ³ã‚¹
    App-->>U: ä»Šæ—¥ã®ãŠã™ã™ã‚è¡¨ç¤º
```

### ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼

1. ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚¢ãƒ—ãƒªã‚’èµ·å‹•
2. ãƒ­ãƒ¼ã‚«ãƒ«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ç¢ºèªï¼ˆåŒæ—¥ã®ã‚¢ãƒ‰ãƒã‚¤ã‚¹ãŒã‚ã‚Œã°è¡¨ç¤ºï¼‰
3. ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒãªã‘ã‚Œã° HealthKit ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿å–å¾—
4. Backend API ã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆé€ä¿¡
5. Backend ãŒæ°—è±¡ãƒ»å¤§æ°—æ±šæŸ“ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—
6. Claude API ã§ã‚¢ãƒ‰ãƒã‚¤ã‚¹ç”Ÿæˆ
7. ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã—ã¦è¡¨ç¤º

---

## é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### å‰ææ¡ä»¶

- **Node.js** 20.0.0 ä»¥ä¸Š
- **pnpm** 9.xï¼ˆ`corepack enable` ã§æœ‰åŠ¹åŒ–æ¨å¥¨ï¼‰
- **Xcode** 15.0 ä»¥ä¸Šï¼ˆiOS é–‹ç™ºç”¨ï¼‰
- **Wrangler CLI**ï¼ˆ`pnpm add -g wrangler`ï¼‰
- **Apple Developer Account**ï¼ˆå®Ÿæ©Ÿãƒ†ã‚¹ãƒˆç”¨ï¼‰

### Backend ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
# 1. ãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚¯ãƒ­ãƒ¼ãƒ³
git clone https://github.com/Bluefinee/tempo-ai.git
cd tempo-ai

# 2. Backend ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•
cd backend

# 3. ä¾å­˜é–¢ä¿‚ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pnpm install

# 4. ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®šï¼ˆCloudflare Secretsï¼‰
wrangler secret put ANTHROPIC_API_KEY
# ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãŒè¡¨ç¤ºã•ã‚ŒãŸã‚‰ API ã‚­ãƒ¼ã‚’å…¥åŠ›

# 5. é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•
pnpm dev
# â†’ http://localhost:8787 ã§èµ·å‹•
```

### iOS ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
# 1. iOS ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•
cd ios/TempoAI

# 2. Xcode ã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’é–‹ã
open TempoAI.xcodeproj

# 3. Xcode ã§ä»¥ä¸‹ã‚’è¨­å®š
#    - Signing & Capabilities ã§ãƒãƒ¼ãƒ ã‚’é¸æŠ
#    - Bundle Identifier ã‚’å¤‰æ›´ï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰
#    - HealthKit ã®æ¨©é™ãŒæœ‰åŠ¹ã«ãªã£ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª

# 4. å®Ÿæ©Ÿã¾ãŸã¯ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ã§ãƒ“ãƒ«ãƒ‰ãƒ»å®Ÿè¡Œ
#    âŒ˜ + R
```

> **Note**: HealthKit ã®ãƒ‡ãƒ¼ã‚¿å–å¾—ã«ã¯å®Ÿæ©ŸãŒå¿…è¦ã§ã™ã€‚ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ã§ã¯é™å®šçš„ãªãƒ†ã‚¹ãƒˆã®ã¿å¯èƒ½ã§ã™ã€‚

---

## ç’°å¢ƒå¤‰æ•°ãƒ»ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆ

### Backend (Cloudflare Workers)

| å¤‰æ•°å              | èª¬æ˜                                    | å¿…é ˆ | è¨­å®šæ–¹æ³•                                |
| ------------------- | --------------------------------------- | ---- | --------------------------------------- |
| `ANTHROPIC_API_KEY` | Claude API ã‚­ãƒ¼                         | âœ“    | `wrangler secret put ANTHROPIC_API_KEY` |
| `ENVIRONMENT`       | å®Ÿè¡Œç’°å¢ƒ (`development` / `production`) | âœ“    | `wrangler.toml` ã§è¨­å®š                  |

```toml
# wrangler.toml
[vars]
ENVIRONMENT = "development"
```

### iOS

API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã¯ `APIClient.swift` å†…ã§è¨­å®šï¼š

```swift
private let baseURL: String = ProcessInfo.processInfo.environment["API_BASE_URL"] ?? "https://tempo-ai.YOUR_SUBDOMAIN.workers.dev"
```

---

## é–‹ç™ºã‚³ãƒãƒ³ãƒ‰

### Backend

```bash
# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
pnpm dev

# æœ¬ç•ªãƒ‡ãƒ—ãƒ­ã‚¤
pnpm deploy

# ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ãƒ‡ãƒ—ãƒ­ã‚¤
pnpm deploy:staging

# ãƒªãƒ³ãƒˆ
pnpm lint
pnpm lint:fix

# ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
pnpm format
pnpm format:check

# å‹ãƒã‚§ãƒƒã‚¯
pnpm typecheck

# ãƒ†ã‚¹ãƒˆ
pnpm test
pnpm test:watch
pnpm test:coverage
pnpm test:ui

# ãƒªãƒ³ãƒˆ + ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ + å‹ãƒã‚§ãƒƒã‚¯
pnpm check
pnpm check:fix
```

### iOS

| æ“ä½œ               | ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ           |
| ------------------ | ------------------------ |
| ãƒ“ãƒ«ãƒ‰ï¼†å®Ÿè¡Œ       | `âŒ˜ + R`                  |
| ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ         | `âŒ˜ + U`                  |
| ã‚¯ãƒªãƒ¼ãƒ³ãƒ“ãƒ«ãƒ‰     | `âŒ˜ + Shift + K`          |
| ãƒ“ãƒ«ãƒ‰ãƒ•ã‚©ãƒ«ãƒ€å‰Šé™¤ | `âŒ˜ + Option + Shift + K` |

---

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```text
tempo-ai/
â”œâ”€â”€ .github/                    # CI/CD ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼
â”‚   â””â”€â”€ workflows/
â”‚       â”œâ”€â”€ ios-ci.yml         # iOSå“è³ªãƒã‚§ãƒƒã‚¯ãƒ»ãƒ†ã‚¹ãƒˆ
â”‚       â””â”€â”€ backend-ci.yml     # Backendå“è³ªãƒã‚§ãƒƒã‚¯ãƒ»ãƒ†ã‚¹ãƒˆ
â”‚
â”œâ”€â”€ backend/                    # Cloudflare Workers API
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ index.ts           # Honoã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆï¼ˆJSDocå®Œå‚™ï¼‰
â”‚   â”‚   â”œâ”€â”€ routes/            # å°†æ¥ã®API routes
â”‚   â”‚   â”œâ”€â”€ services/          # å°†æ¥ã®ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯
â”‚   â”‚   â”‚   â”œâ”€â”€ claude.ts      # Claude API çµ±åˆï¼ˆäºˆå®šï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ weather.ts     # Open-Meteo Weather APIï¼ˆäºˆå®šï¼‰
â”‚   â”‚   â”‚   â””â”€â”€ airQuality.ts  # Open-Meteo Air Quality APIï¼ˆäºˆå®šï¼‰
â”‚   â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â”‚   â””â”€â”€ response.ts    # Zodã‚¹ã‚­ãƒ¼ãƒã«ã‚ˆã‚‹å‹å®‰å…¨ãƒ¬ã‚¹ãƒãƒ³ã‚¹
â”‚   â”‚   â”œâ”€â”€ utils/             # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ï¼ˆäºˆå®šï¼‰
â”‚   â”‚   â””â”€â”€ prompts/           # AIãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼ˆäºˆå®šï¼‰
â”‚   â”œâ”€â”€ tests/                 # Vitestãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â”œâ”€â”€ wrangler.toml          # Cloudflare Workersè¨­å®š
â”‚   â”œâ”€â”€ package.json           # pnpm scriptsãƒ»ä¾å­˜é–¢ä¿‚
â”‚   â”œâ”€â”€ biome.json             # Linter/Formatterè¨­å®š
â”‚   â”œâ”€â”€ tsconfig.json          # TypeScriptè¨­å®š
â”‚   â””â”€â”€ vitest.config.ts       # ãƒ†ã‚¹ãƒˆè¨­å®š
â”‚
â”œâ”€â”€ ios/                        # iOS ã‚¢ãƒ—ãƒªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
â”‚   â””â”€â”€ TempoAI/               # SwiftUI ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ
â”‚       â”œâ”€â”€ App/
â”‚       â”‚   â”œâ”€â”€ TempoAIApp.swift    # ã‚¢ãƒ—ãƒªã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”‚       â”‚   â””â”€â”€ ContentView.swift   # ãƒ¡ã‚¤ãƒ³ãƒ“ãƒ¥ãƒ¼
â”‚       â”œâ”€â”€ Features/               # æ©Ÿèƒ½åˆ¥ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªï¼ˆäºˆå®šï¼‰
â”‚       â”‚   â”œâ”€â”€ Onboarding/         # ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ç”»é¢
â”‚       â”‚   â”œâ”€â”€ Home/               # ãƒ›ãƒ¼ãƒ ãƒ»ã‚¢ãƒ‰ãƒã‚¤ã‚¹è¡¨ç¤º
â”‚       â”‚   â””â”€â”€ Settings/           # è¨­å®šç”»é¢
â”‚       â”œâ”€â”€ Services/               # ãƒ‡ãƒ¼ã‚¿ç®¡ç†å±¤ï¼ˆäºˆå®šï¼‰
â”‚       â”‚   â”œâ”€â”€ HealthKitManager.swift
â”‚       â”‚   â”œâ”€â”€ LocationManager.swift
â”‚       â”‚   â”œâ”€â”€ APIClient.swift
â”‚       â”‚   â””â”€â”€ CacheManager.swift
â”‚       â”œâ”€â”€ Shared/                 # å…±æœ‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆäºˆå®šï¼‰
â”‚       â”‚   â”œâ”€â”€ Models/
â”‚       â”‚   â”œâ”€â”€ Extensions/
â”‚       â”‚   â””â”€â”€ Components/
â”‚       â”œâ”€â”€ Resources/              # ã‚¢ã‚»ãƒƒãƒˆãƒ»ãƒªã‚½ãƒ¼ã‚¹
â”‚       â”œâ”€â”€ TempoAI.xcodeproj/      # Xcodeãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®š
â”‚       â””â”€â”€ TempoAITests/           # ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ
â”‚           â””â”€â”€ TempoAITests.swift
â”‚
â”œâ”€â”€ docs/                       # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ product-spec.md         # ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆä»•æ§˜æ›¸
â”‚   â”œâ”€â”€ technical-spec.md       # æŠ€è¡“ä»•æ§˜æ›¸ï¼ˆæ›´æ–°æ¸ˆã¿ï¼‰
â”‚   â”œâ”€â”€ ai-prompt-design.md     # AIãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè¨­è¨ˆæ›¸
â”‚   â”œâ”€â”€ claude-plans/           # æ®µéšçš„é–‹ç™ºè¨ˆç”»
â”‚   â””â”€â”€ reviews/                # ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼è¨˜éŒ²
â”‚
â”œâ”€â”€ .claude/                    # é–‹ç™ºã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ãƒ»è¦ç´„
â”‚   â”œâ”€â”€ CLAUDE.md               # å…¨ä½“é–‹ç™ºæ–¹é‡ãƒ»åŸå‰‡
â”‚   â”œâ”€â”€ swift-coding-standards.md      # Swiftè¦ç´„
â”‚   â”œâ”€â”€ typescript-hono-standards.md   # TypeScript/Honoè¦ç´„
â”‚   â”œâ”€â”€ ux_concepts.md          # UXè¨­è¨ˆåŸå‰‡
â”‚   â””â”€â”€ messaging_guidelines.md # ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ³ã‚°è¦ç´„
â”‚
â”œâ”€â”€ .swiftlint.yml              # SwiftLintè¨­å®šï¼ˆios/ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå¯¾å¿œï¼‰
â”œâ”€â”€ CLAUDE.md                   # é–‹ç™ºã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ãƒ»è‡ªå‹•åŒ–ã‚³ãƒãƒ³ãƒ‰
â””â”€â”€ README.md                   # ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«
```

---

## ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

| ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ        | ãƒ‘ã‚¹                                   | å†…å®¹                                                       |
| ------------------- | -------------------------------------- | ---------------------------------------------------------- |
| ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆä»•æ§˜æ›¸    | `docs/product-spec.md`                 | æ©Ÿèƒ½è¦ä»¶ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«è¨­è¨ˆã€ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒ•ãƒ­ãƒ¼ |
| æŠ€è¡“ä»•æ§˜æ›¸          | `docs/tech-spec.md`                    | ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã€iOS/Backend è¨­è¨ˆã€API ä»•æ§˜         |
| AI ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè¨­è¨ˆæ›¸ | `docs/ai-prompt-design.md`             | ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆæ§‹é€ ã€ä¾‹æ–‡é›†ã€JSON å‡ºåŠ›ã‚¹ã‚­ãƒ¼ãƒ                  |
| Swift è¦ç´„          | `.claude/swift-coding-standards.md`    | iOS é–‹ç™ºã®ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„                                 |
| TypeScript è¦ç´„     | `.claude/typescript-hono-standards.md` | Backend é–‹ç™ºã®è¦ç´„                                         |
| UX åŸå‰‡             | `.claude/ux_concepts.md`               | UI ãƒ‡ã‚¶ã‚¤ãƒ³ã®åŸå‰‡                                          |
| é–‹ç™ºã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³    | `.claude/CLAUDE.md`                    | å…¨ä½“ã®é–‹ç™ºæ–¹é‡                                             |

---

## API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

### POST /api/advice

ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ‰ãƒã‚¤ã‚¹ç”Ÿæˆ

```typescript
// Request
{
  userProfile: UserProfile;
  healthData: HealthData;
  location: { latitude: number; longitude: number; city?: string };
  context: {
    currentTime: string;      // ISO 8601
    dayOfWeek: string;
    isMonday: boolean;
    recentDailyTries: string[];
    lastWeeklyTry?: string;
  };
}

// Response
{
  success: boolean;
  data?: {
    mainAdvice: DailyAdvice;
    additionalAdvice?: AdditionalAdvice;
  };
  error?: string;
}
```

### POST /api/advice/additional

è¿½åŠ ã‚¢ãƒ‰ãƒã‚¤ã‚¹ç”Ÿæˆï¼ˆæ˜¼ãƒ»å¤•ï¼‰

```typescript
// Request
{
  userProfile: Pick<UserProfile, "nickname" | "interests">;
  timeSlot: "afternoon" | "evening";
  morningData: { hrvMs?: number; restingHeartRate?: number };
  currentData: { stepsSoFar: number; avgHeartRateSinceMorning?: number };
}
```

---

## ã‚³ã‚¹ãƒˆè¦‹ç©ã‚‚ã‚Š

| ç”¨é€”             | ãƒ¢ãƒ‡ãƒ«          | 1 ãƒªã‚¯ã‚¨ã‚¹ãƒˆ | æœˆé–“ï¼ˆ30 æ—¥ï¼‰       |
| ---------------- | --------------- | ------------ | ------------------- |
| ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ‰ãƒã‚¤ã‚¹ | Claude Sonnet 4 | ~$0.024      | ~$0.72/ãƒ¦ãƒ¼ã‚¶ãƒ¼     |
| è¿½åŠ ã‚¢ãƒ‰ãƒã‚¤ã‚¹   | Claude Haiku    | ~$0.002      | ~$0.06/ãƒ¦ãƒ¼ã‚¶ãƒ¼     |
| **åˆè¨ˆ**         |                 |              | **~$0.84/ãƒ¦ãƒ¼ã‚¶ãƒ¼** |

â€» Prompt Caching é©ç”¨æ™‚ã®ç›®å®‰

---

## é‡è¦ãªåˆ¶ç´„

> **âš ï¸ åŒ»å­¦çš„ãªã‚¢ãƒ‰ãƒã‚¤ã‚¹ãƒ»è¨ºæ–­ã¯çµ¶å¯¾ã«è¡Œã‚ãªã„**
>
> Tempo AI ã¯å¥åº·çš„ãªãƒ©ã‚¤ãƒ•ã‚¹ã‚¿ã‚¤ãƒ«ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ãŸã‚ã®ã‚¦ã‚§ãƒ«ãƒã‚¹ã‚¢ãƒ—ãƒªã§ã‚ã‚Šã€åŒ»ç™‚è¡Œç‚ºãƒ»åŒ»å­¦çš„è¨ºæ–­ãƒ»æ²»ç™‚ã®ä»£æ›¿ã¨ãªã‚‹ã‚‚ã®ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚

---

## Code Rabbit ãƒ¬ãƒ“ãƒ¥ãƒ¼

CodeRabbit CLI ã‚’ä½¿ç”¨ã—ãŸè‡ªå‹•ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’å®Ÿæ–½ã—ã¾ã™ã€‚

### ä½¿ã„æ–¹

ä»¥ä¸‹ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ Claude Code ã«é€ä¿¡ã—ã¦ãã ã•ã„ï¼š

```
Code Rabbitã§ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’å®Ÿè¡Œã—ã€ä¿®æ­£ã—ã¦ãã ã•ã„ã€‚

## æ‰‹é †


### Step 1: ãƒ¬ãƒ“ãƒ¥ãƒ¼å®Ÿè¡Œ
ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã€å®Œäº†ã¾ã§å¾…æ©Ÿã™ã‚‹ï¼ˆ5-10åˆ†ã‹ã‹ã‚‹ã€‚å…¨ã¦ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼å†…å®¹ã‚’å‡ºåŠ›ã™ã‚‹ã“ã¨ã€‚ï¼‰ï¼š
coderabbit review --plain > docs/reviews/$(date +%Y%m%d-%H%M)-code-rabbit-review-results.txt 2>&1

### Step 2: ä¿®æ­£è¨ˆç”»ã®ä½œæˆ
ãƒ¬ãƒ“ãƒ¥ãƒ¼çµæœã‚’åˆ†æã—ã€åŒãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ãã®ä¿®æ­£ãƒ—ãƒ©ãƒ³ã§ã‚ã‚‹ `YYYYMMDD-HHMM-fix-plan.md` ã‚’ä½œæˆã™ã‚‹ã€‚

å½¢å¼ï¼š
- æŒ‡æ‘˜ã”ã¨ã«ã€Œãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ã€ã€ŒæŒ‡æ‘˜å†…å®¹ã€ã€Œå¯¾å¿œï¼ˆâœ…ä¿®æ­£ or â­ï¸ã‚¹ã‚­ãƒƒãƒ—ï¼‰ã€ã‚’è¨˜è¼‰
- ã‚¹ã‚­ãƒƒãƒ—ã™ã‚‹å ´åˆã¯ç†ç”±ã‚’æ˜è¨˜
- å„ªå…ˆé †ä½ï¼šã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ > ãƒ­ã‚¸ãƒƒã‚¯ã‚¨ãƒ©ãƒ¼ > ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ > ã‚³ãƒ¼ãƒ‰ã‚¹ã‚¿ã‚¤ãƒ«

### Step 4: ä¿®æ­£ã®å®Ÿæ–½
ä¿®æ­£è¨ˆç”»ã«å¾“ã„ã€å„ªå…ˆé †ä½é †ã«ä¿®æ­£ã‚’è¡Œã†ã€‚

## ä¿®æ­£æ–¹é‡
- åŸå‰‡ï¼šã™ã¹ã¦ã®æŒ‡æ‘˜ã‚’ä¿®æ­£å¯¾è±¡ã¨ã™ã‚‹ã€‚code rabbitã®ãƒ¬ãƒ“ãƒ¥ãƒ¼å†…å®¹ã¯ã€è©²å½“ã®ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã«å¿…ãšå…¨ã¦å‡ºåŠ›ã™ã‚‹ã“ã¨ã€‚
- ä¾‹å¤–ï¼šæŒ‡æ‘˜ãŒæ˜ã‚‰ã‹ã«èª¤ã‚Šã€ã¾ãŸã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ–¹é‡ã¨çŸ›ç›¾ã™ã‚‹å ´åˆã®ã¿ã‚¹ã‚­ãƒƒãƒ—å¯
```
